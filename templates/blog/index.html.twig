{% extends 'base.html.twig' %}

{% block title %}Blog
{% endblock %}

{% block body %}

	<section class="text-gray-600 body-font">
		<div class="container px-5 py-20 mx-auto">
			<div class="flex flex-wrap w-full mb-10">
				<div class="w-full mb-6 lg:w-1/2 lg:mb-0">
					<h1 class="mb-2 text-2xl font-medium text-gray-900 sm:text-3xl title-font">Blog</h1>
					<div class="w-20 h-1 bg-indigo-500 rounded"></div>
				</div>
			</div>
			<div class="flex flex-wrap -m-4">
				{% for post in pagination %}

					<article class="p-4 lg:w-1/4 md:w-1/2">
						<div class="h-full overflow-hidden border-2 border-gray-200 rounded-lg border-opacity-60">
							<img class="object-cover object-center w-full lg:h-48 md:h-36" {% if post.filename is not null %} src="{{ vich_uploader_asset( post, 'imageFile') }}" 
							{% else %} src="https://dummyimage.com/600x400/000/fff" {% endif %} alt="{{ post.title }}">


							<div class="p-6">
								<h2 class="mb-1 text-xs font-medium tracking-widest text-gray-400 uppercase title-font">
									{% for category in post.category %}
										{{ category }}
									{% endfor %}
								</h2>
								<h1 class="mb-3 text-lg font-medium text-gray-900 title-font">{{ post.title}}</h1>
								<p class="mb-3 leading-relaxed">{{ post.content | raw | striptags| slice(0,100) }}
									...</p>
								<div class="flex flex-wrap items-center ">
									<a href="{{ path('blog.show', {'slug': post.slug, 'id': post.id}) }}" class="inline-flex items-center text-indigo-500 md:mb-2 lg:mb-0">Lire plus
										<svg class="w-4 h-4 ml-2" viewbox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
											<path d="M5 12h14"></path>
											<path d="M12 5l7 7-7 7"></path>
										</svg>
									</a>
									<span class="inline-flex items-center py-1 pr-3 ml-auto mr-3 text-sm leading-none text-gray-400 border-r-2 border-gray-200 lg:ml-auto md:ml-0">
										<svg class="w-4 h-4 mr-1" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" viewbox="0 0 24 24">
											<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
											<circle cx="12" cy="12" r="3"></circle>
										</svg>1.2K
									</span>
									<span class="inline-flex items-center text-sm leading-none text-gray-400">
										<svg class="w-4 h-4 mr-1" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" viewbox="0 0 24 24">
											<path d="M21 11.5a8.38 8.38 0 01-.9 3.8 8.5 8.5 0 01-7.6 4.7 8.38 8.38 0 01-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 01-.9-3.8 8.5 8.5 0 014.7-7.6 8.38 8.38 0 013.8-.9h.5a8.48 8.48 0 018 8v.5z"></path>
										</svg>6
									</span>
								</div>
							</div>
						</div>
					</article>

				{% endfor %}
			</div>
			{{ knp_pagination_render(pagination, 'includes/pagination.html.twig') }}
		</div>
	</section>
{% endblock %}
