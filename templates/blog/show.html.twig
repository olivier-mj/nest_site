{% extends 'base.html.twig' %}

{% block title %}{{ post.title}} - Blog{% endblock %}

{% block body %}
<article>
    <header class="blog-header text-shadow-md"
        style="background-image: url({{ vich_uploader_asset(post) |  imagine_filter('blog_show')  }})">
        <div class="overlay"> </div>
        <div class="container relative mx-auto">
            <div class="flex-grow">
                <h1 class="pb-3 text-5xl font-black">{{ post.title }}</h1>

                <div class="flex items-center meta">
                    <time class="pr-1 timeago"
                        datetime="{{ post.createdAt | date('c') }}">{{ post.createdAt | format_datetime('full', 'short', locale='fr') | capitalize}}
                    </time> &middot; <a class="flex items-center pl-1 pr-1 hover:text-white/60"
                        href="{{ path('categories.show',{slug: post.category.slug, id: post.category.id }) }}">
                        {{ icon('category', '18','fill-white mr-2') }} {{ post.category.name }}</a> &middot; <a
                        class="flex items-center pl-1 pr-1 hover:text-white/60 text-capitalize"
                        href="#author">{{ icon('profile-user', '18','fill-white mr-2') }}
                        {{ post.user.nickname| capitalize }}
                    </a> &middot; <span
                        class="flex items-center pl-1 pr-1">{{ icon('message2', '18','fill-white lr-2') }} </span>
                    {{ post.comments | length }}
                </div>

            </div>

        </div>

    </header>
    <div class="blog-content">
        <div class="container px-5 py-10 mx-auto">
            {{ post.content | raw }}
        </div>
    </div>
    <section class="pb-3 blog-tags">
        <div class="container px-5 mx-auto">
            <span class="inline-block font-black">Tags :</span>
            {% for tag in post.tags %}
            <span class="inline-block px-3 py-1 mb-2 mr-2 text-sm font-semibold text-gray-700 bg-gray-200 rounded-full">
                <a class="btn btn-dark btn-sm" href="{{ path('tag.show', {id: tag.id, slug: tag.slug }) }}">
                    # {{ tag.name }}
                </a>
            </span>
            {% endfor %}
        </div>
    </section>
    {{ include('includes/author.html.twig') }}
</article>

{% endblock %}